@isTest
global class HttpMockGetPhoneIntelligenceBatchClass implements HttpCalloutMock 
{
    String contactId;
    public HttpMockGetPhoneIntelligenceBatchClass(String str){
        contactId = str;
    }
    
    global HTTPResponse respond(HTTPRequest req) 
    {
        // Create a fake response
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        //res.setBody('{ "_hidden_": { "contacts": [ { "index": 0, "input": { "company": "Adams & Reese", "companyEmail": "judy.bassett@arlaw.com", "custom1": "my-contact-field-1", "custom2": "my-contact-field-2", "custom3": "my-contact-field-3", "firstName": "Judy", "lastName": "Bassett", "linkedInUrl": "linkedin.com/in/judy-bassett-80080853" }, "output": { "businessPhone": { "code": "U", "text": "Unknown" }, "callWindows": [ { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Overall" }, { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Monday" }, { "12hrs": "8pm – 10pm", "24hrs": "20:00 – 22:00", "code": "11", "offset": "+00:00", "timezone": "UTC", "title": "Tuesday" }, { "12hrs": "4pm – 6pm", "24hrs": "16:00 – 18:00", "code": "9", "offset": "+00:00", "timezone": "UTC", "title": "Wednesday" }, { "12hrs": "2am – 4am", "24hrs": "02:00 – 04:00", "code": "2", "offset": "+00:00", "timezone": "UTC", "title": "Thirsday" }, { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Friday" }, { "12hrs": "No data available", "24hrs": "No data available", "code": "0", "offset": "+00:00", "timezone": "UTC", "title": "Saturday" }, { "12hrs": "4am – 6am", "24hrs": "04:00 – 06:00", "code": "3", "offset": "+00:00", "timezone": "UTC", "title": "Sunday" } ], "company": "Adams & Reese", "companyEmail": "judy.bassett@arlaw.com", "custom1": "my-contact-field-1", "custom2": "my-contact-field-2", "custom3": "my-contact-field-3", "discontinuedPhone": { "code": "0", "text": "None" }, "firstName": "Judy", "lastName": "Bassett", "linkedInUrl": "linkedin.com/in/judy-bassett-80080853", "phoneInService": { "code": "A1", "text": "Active for 1 month or less" }, "phoneNumbers": [ { "countryCallingCode": "1", "countryCode": "US", "countryName": "United States", "internationalNumber": "+1 504-585-0160", "localizedNumber": "(504) 585-0160" }, { "countryCallingCode": "1", "countryCode": "US", "countryName": "United States", "internationalNumber": "+1 504-888-0786", "localizedNumber": "(504) 888-0786" } ], "phoneType": { "code": "L", "text": "Landline" }, "phoneUsage12Months": { "code": "2", "text": "Light usage" }, "phoneUsage2Months": { "code": "0", "text": "No data available or no usage in the last {months} months" }, "prepaidPhone": { "code": "N", "text": "No data is available to determine prepaid status" }, "unverifiedPhoneComponents": { "code": "8", "text": "No verified components." }, "verifiedPhone": "5045850160", "verifiedPhoneComponents": { "code": "3", "text": "Phone (Any) and Email are linked to Name." } }, "status": "done" } ], "job": { "creditsId": "IB31VDkwiAnKpnK3HL4W", "custom1": "my-job-field-1", "custom2": "my-job-field-2", "custom3": "my-job-field-3", "jobType": "mobilePhone", "recipeId": "modigie-contactsval-validate_mobile_stub1", "requestId": "5", "status": "done" } }, "creditsId": "IB31VDkwiAnKpnK3HL4W", "custom1": "my-job-field-1", "custom2": "my-job-field-2", "custom3": "my-job-field-3", "errors": [], "id": "6606e3abb7e2b6640f84e9065b1ebd2219438908f5969d428026e5eb2b7ee1e0", "name": "/api/val/v1/mobilePhoneJobs/6606e3abb7e2b6640f84e9065b1ebd2219438908f5969d428026e5eb2b7ee1e0", "requestId": "5", "results": [ { "businessPhone": { "code": "U", "text": "Unknown" }, "callWindows": [ { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Overall" }, { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Monday" }, { "12hrs": "8pm – 10pm", "24hrs": "20:00 – 22:00", "code": "11", "offset": "+00:00", "timezone": "UTC", "title": "Tuesday" }, { "12hrs": "4pm – 6pm", "24hrs": "16:00 – 18:00", "code": "9", "offset": "+00:00", "timezone": "UTC", "title": "Wednesday" }, { "12hrs": "2am – 4am", "24hrs": "02:00 – 04:00", "code": "2", "offset": "+00:00", "timezone": "UTC", "title": "Thirsday" }, { "12hrs": "6am – 8am", "24hrs": "06:00 – 08:00", "code": "4", "offset": "+00:00", "timezone": "UTC", "title": "Friday" }, { "12hrs": "No data available", "24hrs": "No data available", "code": "0", "offset": "+00:00", "timezone": "UTC", "title": "Saturday" }, { "12hrs": "4am – 6am", "24hrs": "04:00 – 06:00", "code": "3", "offset": "+00:00", "timezone": "UTC", "title": "Sunday" } ], "custom1": "my-contact-field-1", "custom2": "my-contact-field-2", "custom3": "my-contact-field-3", "discontinuedPhone": { "code": "0", "text": "None" }, "events": [ { "code": "mobile-found", "credits": 1.23, "description": "Currently, description unavailable and credits unknown" } ], "phoneInService": { "code": "A1", "text": "Active for 1 month or less" }, "phoneType": { "code": "L", "text": "Landline" }, "phoneUsage12Months": { "code": "2", "text": "Light usage" }, "phoneUsage2Months": { "code": "0", "text": "No data available or no usage in the last {months} months" }, "prepaidPhone": { "code": "N", "text": "No data is available to determine prepaid status" }, "status": "done", "verifiedPhone": "5045850160" } ], "status": "done" }');
        res.setBody('{ "results": [ { "customParameters": [ { "name": "recordIdAndOrgId", "value": "'+contactId+UserInfo.getOrganizationId()+'" } ], "events": [ { "code": "phone-intelligence-data-available", "credits": 1.23, "description": "Currently, description unavailable and credits unknown" } ], "id": "cfcd208495d565ef66e7dff9f98764da", "name": "phoneIntelJobs/00bab69cdf3309ce644e2e62eff2fe4e28df0408cac271adfe8f2f5d538b02c1/contacts/cfcd208495d565ef66e7dff9f98764da", "status": "done", "unverifiedPhoneComponents": { "code": "8", "text": "No verified components." }, "verifiedPhoneComponents": { "code": "5", "text": "Phone (Any) and Name are linked." }, "verifiedPhones": [ { "carrierName":"testmessage","addressToPhoneLinkage": { "code": "-2", "text": "Invalid or missing input" }, "businessPhone": { "code": "U", "text": "Unknown" }, "callWindows": [ { "12hrs": "10pm – 12am", "24hrs": "22:00 – 24:00", "code": "12", "offset": "+00:00", "timezone": "UTC", "title": "Overall" }, { "12hrs": "4pm – 6pm", "24hrs": "16:00 – 18:00", "code": "9", "offset": "+00:00", "timezone": "UTC", "title": "Monday" }, { "12hrs": "12pm – 2pm", "24hrs": "12:00 – 14:00", "code": "7", "offset": "+00:00", "timezone": "UTC", "title": "Tuesday" }, { "12hrs": "12am – 2am", "24hrs": "00:00 – 02:00", "code": "1", "offset": "+00:00", "timezone": "UTC", "title": "Wednesday" }, { "12hrs": "4pm – 6pm", "24hrs": "16:00 – 18:00", "code": "9", "offset": "+00:00", "timezone": "UTC", "title": "Thirsday" }, { "12hrs": "10pm – 12am", "24hrs": "22:00 – 24:00", "code": "12", "offset": "+00:00", "timezone": "UTC", "title": "Friday" }, { "12hrs": "10pm – 12am", "24hrs": "22:00 – 24:00", "code": "12", "offset": "+00:00", "timezone": "UTC", "title": "Saturday" }, { "12hrs": "10pm – 12am", "24hrs": "22:00 – 24:00", "code": "12", "offset": "+00:00", "timezone": "UTC", "title": "Sunday" } ], "discontinuedPhone": { "code": "0", "text": "None" }, "emailToPhoneLinkage": { "code": "0", "text": "No data in repository / Unknown" }, "phoneInService": { "code": "A7", "text": "Active for 12 months or longer" }, "phoneNumber": { "intlFormat": "+19199610084", "userNumber": "(919) 961-0084" }, "phoneToFirstNameLinkage": { "code": "0", "text": "No data in repository / Unknown" }, "phoneToNameLinkage": { "code": "1", "text": "Tier 2 or 3 link (lower accuracy linkage)" }, "phoneType": "Wireless" , "phoneUsage12Months": { "code": "4", "text": "Heavy Usage" }, "phoneUsage2Months": { "code": "3", "text": "Moderate Usage" }, "prepaidPhone": { "code": "N", "text": "No data is available to determine prepaid status" } } ] } ] }');
        res.setStatusCode(200);
        return res;
        
    }
}